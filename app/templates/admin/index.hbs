<Headers::H2 @title='Stats' />

<dl class='grid grid-cols-1 md:grid-cols-2 gap-5 mb-8'>
  <Stat @title='Status' @value={{capitalize @model.health.status}}>
    <:icon>
      {{#if (eq @model.health.status 'available')}}
        <Icons::CheckboxMarkedCircle class='text-green' @size={{40}} />
      {{else}}
        <Icons::AlertCircle class='text-yellow' @size={{40}} />
      {{/if}}
    </:icon>
  </Stat>
  <Stat
    @title='Database size'
    @value={{format-bytes @model.stats.databaseSize}}
  >
    <:icon>
      <Icons::DatabaseOutline @size={{40}} />
    </:icon>
  </Stat>
  <Stat
    @title='Last update'
    @value={{date-time-format @model.stats.lastUpdate}}
  >
    <:icon>
      <Icons::Calendar @size={{40}} />
    </:icon>
  </Stat>
  <Stat
    @title='The version of the Meilisearch instance'
    @value={{@model.version.pkgVersion}}
  >
    <:icon>
      <Icons::SourceBranch @size={{40}} />
    </:icon>
  </Stat>
</dl>

<Headers::H2>
  <LinkTo @route='admin.indexes.index'>Indexes</LinkTo>
</Headers::H2>

<RoyalTable @data={{@model.indexes.results}} class='w-full' as |Row data|>
  <Row as |Column|>
    <Column @name='UID' @prop='uid'>
      <LinkTo @route='admin.indexes.item' @model={{data.uid}}>
        {{data.uid}}
      </LinkTo>
    </Column>
    <Column @name='Primary key' @prop='primaryKey' />
    <Column @name='Created at' @prop='createdAt'>
      {{date-time-format
        data.createdAt
        year='numeric'
        month='numeric'
        day='numeric'
        hour='numeric'
        minute='numeric'
        second='numeric'
      }}
    </Column>
    <Column @name='Updated at' @prop='updatedAt'>
      {{date-time-format
        data.updatedAt
        year='numeric'
        month='numeric'
        day='numeric'
        hour='numeric'
        minute='numeric'
        second='numeric'
      }}
    </Column>
  </Row>
</RoyalTable>
